# Что мне делать? :-)

Основная цель [нашего Текста](https://text.sharedgoals.ru/) – субъективное описание деятельности, приносящей [искреннюю радость и моменты счастья](https://text.sharedgoals.ru/ru/p1-010-happiness#moments_of_happiness).

История его появления приведена в [самом начале](https://text.sharedgoals.ru/ru/). 
За который работы сам собой сложился формат и процесс, который описан в главе [«Жизнь как Текст»](https://text.sharedgoals.ru/ru/p2-200-text#word).

Текст создаётся в [концепции Open Source](https://text.sharedgoals.ru/ru/p2-170-opensource) на сервере GitHub.
Это означает, что любой желающий может создать свою версию Текста, взяв за основу уже сделанные наработки.

## Инструкция создания собственного Текста

Если у Вас ещё нет учётной записи GitHub, её потребуется создать.

При регистрации оставьте тип Вашей учётной записи Public и не переключайте его в Private.
Иначе создаваемые Вами проекты будут по умолчанию закрытыми и наш Текст не получится переиспользовать.

**Создать свой Текст просто**

![Создать свой Текст просто](https://text.sharedgoals.ru/ru/img/github_fork.gif)

Попробуйте нажать кнопку Fork, оставив другие поля по умолчанию.
Спустя пару секунд будет создан Ваш персональный, новый, независимый, но связанный с нашим, готовый к запуску проект.

Для того, чтобы «вдохнуть жизнь» в созданный Текст – чтобы он самостоятельно опубликовался и превратился в работающий сайт, нужно сделать всего 2 действия.

**Включить публикацию проекта**

![Включить публикацию для проекта](https://text.sharedgoals.ru/ru/img/github_publish.gif)

В настройках проекта (Settings) зайти в раздел Pages (Страницы) и выбрать публикацию этих страниц с помощью автоматизированных процессов – «Deploy Github Actions».

GitHub Actions – это такие программы (скрипты), которые автоматически запускаются каждый раз, когда возникает какое-то событие.
Например, вносится изменение в Текст.

Actions эти уже настроены, работают в нашем проекте и были скопированы в Ваш при создании Fork.
И так как наши проекты пока ничем не отличаются – эти действия будут работать точно также и для Вашего.

**Разрешить исполнение Actions**

![Разрешить исполнение Actions](https://text.sharedgoals.ru/ru/img/github_actions.gif)

Проекты создаются с выключенными действиями по умолчанию – выберите в верхнем меню раздел Actions и нажмите там кнопку Enable.

Если Вы читаете и пишете код, то имеет смысл полюбопытствовать – оценить процесс сборки Текста и предложить улучшение – буду благодарен.
Но этого базово не требуется – он уже работает.

В принципе – всё!
Все необходимые действия сделаны и дальше процесс публикации должен работать автоматически.

Текст можно редактировать и сохранять прямо в браузере.

Например, изменить первую страницу Приветствия в файле text/ru/index.md.

После изменения автоматически запускается Action, который:

- [Скачает из облака и развернёт образ открытой операционной системы Linux Ubuntu](https://text.sharedgoals.ru/ru/p2-170-opensource.md#saas),
- Установит на неё [открытое программное обеспечение MkDocs, Pandoc](https://text.sharedgoals.ru/ru/p2-200-text#mkdocs),
- Обработает Ваш Текст,
- Соберёт из него веб сайт,
- Сверстает электронную книжку в формате EPUB,
- И всё это опубликует в Интернет.

**Автоматический процесс сборки Текста**

![Автоматический процесс сборки Текста](https://text.sharedgoals.ru/ru/img/github_build.gif)

Весь этот процесс можно наблюдать в разделе Actions уже Вашего проекта.

Чтобы Текст стал действительно персонализированным, потребуется изменить свойства уже Вашего проекта.

Для простоты и удобства мы собрали все настройки в один файл `mkdocs.yml` и прокомментировали их:

[**mkdocs.yml**](mkdocs.yml):

- [x] site_name: Поправить организацию-издателя, в моём случае – «Общие Цели», можно и оставить;
- [x] site_url: можно изменить позже, если планируете использовать собственный домен – укажите его;
- [x] site_author, copyright, site_description: очевидные значения;
- [x] repo_url: ссылка на проект в github, которая получился после создания Fork;
- [x] repo_name: что будет написано в ссылке на него;
- [x] extra/social/link: ссылка на Вашу ленту, канал, группу или просто контакт;
- [x] nav: список глав и структура Вашего Текста;

Если изменение вызывает затруднение – просто оставьте как есть.
Позже придёт понимание, и Вы сможете вернуться к этой настройке.

Главное начать писать свой Текст в файлах папки text/ru.

Базовый формат разметки Markdown довольно прост и получил широкое распространение.
В нашем проекте он существенно расширен с помощью библиотек [Python Markdown](https://python-markdown.github.io), [PyMdown Extensions](https://facelessuser.github.io/pymdown-extensions/) и [других расширений MkDocs for Material](https://squidfunk.github.io/mkdocs-material/setup/extensions/).
Тут есть поддержка таблиц, цитат, сносок, формул, диаграмм, предупреждений, примечаний и многого другого.
Вероятно, это самый богатый ассортимент возможностей оформления Текста.

Однако в процессе написания нашего Текста возникла потребность определить новые специфичные блоки – такие как ситуации из жизни, определения, музыкальные вставки.

Технологическая платформа позволила определить такие типы – полный список Вы также найдёте в файле `mkdocs.yml`.

Примеры блоков:

```md
/// abstract | Притча

Текст примера, истории или притчи.

///

/// situation

Ситуация из жизни.

///

/// note

Важное дополнение, сделанное позже написания основного текста.

///

/// quote

Текст цитаты.

[Автор](https://quote.url){ .author }

///

```

## Дальнейшее знакомство с техническими особенностями

В этом Текстовом репозитарии мы постарались оставить только Текст.
А всю техническую реализацию перенесли в отдельный проект [text-forge](https://github.com/shared-goals/text-forge).

`text-forge` – набор скриптов, которые преобразовывают Текст в разные форматы – веб сайт, электронная книга и входные данные для помощников ИИ.

Библиотека `text-forge` является частью [инициативы «Shared Goals» (или «Общие Цели»)](https://text.sharedgoals.ru/ru/p2-180-sharedgoals/#use_case).

Однако незначительная часть «техники» всё же осталась в этом текстовом репозитарии.
Эти файлы необязательно трогать, однако полезно знать их назначение:

1. [**Makefile**](Makefile) — команды сборки запускаемые из text-forge: сборка сайта и EPUB, запуск локального сервера для отладки.

1. [**.github/workflows/publish.yml**](.github/workflows/publish.yml) — сборка и публикация сайта на сервере GitHub с помощью Actions (так называемые CI/CD – Continuous Integration/Continuous Deployment).

На этом всё!

[![Built with Material for MkDocs](https://img.shields.io/badge/Material_for_MkDocs-526CFE?style=for-the-badge&logo=MaterialForMkDocs&logoColor=white)](https://squidfunk.github.io/mkdocs-material/)

[![Ask DeepWiki](https://deepwiki.com/badge.svg)](https://deepwiki.com/bongiozzo/whattodo)
